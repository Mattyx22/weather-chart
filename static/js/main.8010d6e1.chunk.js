(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(8),s=a(10),o=a(9),l=a(11),c=a(0),i=a.n(c),u=a(31),h=a.n(u),m=a(15),p=a.n(m),g=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={search:"",localization:[]},a.onFormSubmit=function(e){e.preventDefault(),console.log(a.state.search),p.a.get("https://api.opencagedata.com/geocode/v1/json?q=".concat(a.state.search,"&key=31f2985b4a544bbc9e42b559da344419")).then(function(e){return a.setState({localization:[e.data.results[0].geometry.lat,e.data.results[0].geometry.lng]})}).catch(function(e){return a.setState({error:e})})},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},i.a.createElement("a",{className:"navbar-brand",href:"#"},"Weather Charts"),i.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},i.a.createElement("span",{className:"navbar-toggler-icon"})),i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},i.a.createElement("div",{className:"navbar-nav"},i.a.createElement("a",{className:"nav-item nav-link active",href:"#"},"Home ",i.a.createElement("span",{className:"sr-only"},"(current)")),i.a.createElement("a",{className:"nav-item nav-link",href:"#"},"Features"),i.a.createElement("a",{className:"nav-item nav-link",href:"#"},"Pricing"),i.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:this.onFormSubmit},i.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"City","aria-label":"Search",onChange:function(t){return e.setState({search:t.target.value})},value:this.state.search}),i.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search")))))}}]),t}(i.a.Component),d=a(32),b=a.n(d),v=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"days",value:function(){var e=new Date;return[e.getDate(),e.getDate()+1,e.getDate()+2,e.getDate()+3,e.getDate()+4,e.getDate()+5]}},{key:"componentDidUpdate",value:function(){var e=this.props.tempList,t=document.getElementById("myChart");new b.a(t,{type:"line",data:{labels:this.days(),datasets:[{label:"Celsius degrees",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}},{key:"render",value:function(){return i.a.createElement("div",{className:"center",style:{width:"36vw",position:"relative"}},i.a.createElement("span",null,"Your position: ",this.props.message," ",this.props.lat," ",this.props.long," "),i.a.createElement("h3",null,"Current weather:"),i.a.createElement("canvas",{id:"myChart",width:"400",height:"400"}))}}]),t}(i.a.Component),f=[],y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={weatherData:{daily:{data:[]}},error:null,tempList:[],address:{data:{result:[]}}},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/f8e57f1fd54716f5fd4f0ce5023df702/".concat(this.props.lat,",").concat(this.props.long,"?units=si")).then(function(t){return e.setState({weatherData:t.data})}).catch(function(t){return e.setState({error:t})}),this.setState({tempList:this.tempList()}),p.a.get("https://cors-anywhere.herokuapp.com/https://api.opencagedata.com/geocode/v1/json?q=".concat(this.props.lat,"+").concat(this.props.long,"&key=31f2985b4a544bbc9e42b559da344419")).then(function(t){return e.setState({address:t.data.results[0].components.city})}).catch(function(t){return e.setState({error:t})})}},{key:"tempList",value:function(){return this.state.weatherData.daily.data.map(function(e){return f.push(Math.round(e.temperatureHigh))}),f}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(v,{lat:this.props.lat,long:this.props.long,tempList:this.state.tempList}),i.a.createElement("h4",null,"You are here:"),JSON.stringify(this.state.address),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("h4",null,"Temperatures:"),this.tempList(),this.state.weatherData.daily.data.map(function(e){return i.a.createElement("div",null,e.temperatureHigh)}))}}]),t}(i.a.Component),E=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={lat:null,long:"",errorMsg:""},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.navigator.geolocation.getCurrentPosition(function(t){e.setState({lat:t.coords.latitude,long:t.coords.longitude})},function(t){return e.setState({errorMsg:t.message})})}},{key:"renderContent",value:function(){return this.state.lat&&this.state.long&&!this.state.errorMsg?i.a.createElement("div",null,i.a.createElement(y,{lat:this.state.lat,long:this.state.long})):this.state.lat||this.state.long||!this.state.errorMsg?i.a.createElement(v,{message:"Loading..."}):i.a.createElement(v,{message:this.state.errorMsg})}},{key:"onSearchSubmit",value:function(e){console.log(e)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(g,{lat:this.state.lat,long:this.state.long}),this.renderContent())}}]),t}(i.a.Component);h.a.render(i.a.createElement(E,null),document.querySelector("#root"))},33:function(e,t,a){e.exports=a(101)}},[[33,1,2]]]);
//# sourceMappingURL=main.8010d6e1.chunk.js.map